<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MML Validator - Validateur en ligne du langage MML</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“„</text></svg>">
</head>
<body>
    <header>
        <div class="container">
            <h1>ğŸ” MML Validator</h1>
            <p class="subtitle">Validateur en ligne du langage Minimal Markup Language (MML)</p>
            <div class="version">Version 1.0</div>
        </div>
    </header>

    <main class="container">
        <div class="description">
            <h2>Ã€ propos du validateur</h2>
            <p>
                Cet outil vous permet de tester et valider des documents MML en temps rÃ©el.
                Saisissez votre contenu MML dans l'Ã©diteur ci-dessous et voyez instantanÃ©ment
                les rÃ©sultats du parsing, les erreurs Ã©ventuelles et les diffÃ©rentes reprÃ©sentations.
            </p>
            <div class="features">
                <div class="feature">
                    <span class="emoji">âš¡</span>
                    <strong>Validation temps rÃ©el</strong>
                    <p>DÃ©tection instantanÃ©e des erreurs de syntaxe</p>
                </div>
                <div class="feature">
                    <span class="emoji">ğŸ”„</span>
                    <strong>Conversions multiples</strong>
                    <p>HTML, JSON, texte brut et MMLC</p>
                </div>
                <div class="feature">
                    <span class="emoji">ğŸ“Š</span>
                    <strong>Statistiques dÃ©taillÃ©es</strong>
                    <p>MÃ©triques de parsing et performance</p>
                </div>
                <div class="feature">
                    <span class="emoji">ğŸ¯</span>
                    <strong>Exemples intÃ©grÃ©s</strong>
                    <p>Templates prÃªts Ã  l'emploi</p>
                </div>
            </div>
        </div>

        <div class="validator-section">
            <div class="input-panel">
                <div class="panel-header">
                    <h3>ğŸ“ Ã‰diteur MML</h3>
                    <div class="controls">
                        <button id="clearBtn" class="btn-secondary">ğŸ—‘ï¸ Effacer</button>
                        <button id="examplesBtn" class="btn-secondary">ğŸ“‹ Exemples</button>
                        <button id="formatBtn" class="btn-secondary">ğŸ¨ Formater</button>
                    </div>
                </div>
                <textarea id="mmlInput" placeholder="Saisissez votre document MML ici...

Exemple rapide :
T:Mon document
H:Introduction
P:Ceci est un paragraphe simple.
M:Auteur|Votre nom
L:Documentation|https://example.com"></textarea>
                <div class="input-info">
                    <span id="charCount">0 caractÃ¨res</span>
                    <span id="lineCount">0 lignes</span>
                </div>
            </div>

            <div class="output-panel">
                <div class="panel-tabs">
                    <button class="tab-btn active" data-tab="validation">âœ… Validation</button>
                    <button class="tab-btn" data-tab="html">ğŸŒ HTML</button>
                    <button class="tab-btn" data-tab="json">ğŸ“‹ JSON</button>
                    <button class="tab-btn" data-tab="text">ğŸ“„ Texte</button>
                    <button class="tab-btn" data-tab="mmlc">ğŸ—œï¸ MMLC</button>
                    <button class="tab-btn" data-tab="stats">ğŸ“Š Stats</button>
                </div>

                <div id="validationTab" class="tab-content active">
                    <div id="validationResult" class="result-area">
                        <div class="status pending">
                            <span class="emoji">â³</span>
                            En attente de saisie...
                        </div>
                    </div>
                </div>

                <div id="htmlTab" class="tab-content">
                    <div id="htmlResult" class="result-area">
                        <div class="preview-notice">
                            <strong>AperÃ§u HTML gÃ©nÃ©rÃ©</strong><br>
                            Le contenu ci-dessous est le rÃ©sultat de la conversion MML â†’ HTML.
                        </div>
                        <div id="htmlPreview"></div>
                    </div>
                </div>

                <div id="jsonTab" class="tab-content">
                    <pre id="jsonResult" class="result-area code-block"></pre>
                </div>

                <div id="textTab" class="tab-content">
                    <pre id="textResult" class="result-area code-block"></pre>
                </div>

                <div id="mmlcTab" class="tab-content">
                    <div id="mmlcResult" class="result-area">
                        <div class="compression-info">
                            <div id="compressionStats"></div>
                        </div>
                        <pre id="mmlcContent" class="code-block"></pre>
                    </div>
                </div>

                <div id="statsTab" class="tab-content">
                    <div id="statsResult" class="result-area">
                        <div class="stats-grid" id="statsGrid"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Examples Modal -->
        <div id="examplesModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸ“‹ Exemples MML</h3>
                    <button class="close-btn" id="closeExamples">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="examples-grid">
                        <div class="example-card" data-example="basic">
                            <h4>ğŸ“„ Document basique</h4>
                            <p>Structure simple avec titre et sections</p>
                        </div>
                        <div class="example-card" data-example="metadata">
                            <h4>ğŸ”– MÃ©tadonnÃ©es</h4>
                            <p>Document avec mÃ©tadonnÃ©es complÃ¨tes</p>
                        </div>
                        <div class="example-card" data-example="links">
                            <h4>ğŸ”— Liens et mÃ©dias</h4>
                            <p>Liens, images et rÃ©fÃ©rences externes</p>
                        </div>
                        <div class="example-card" data-example="emergency">
                            <h4>ğŸš¨ Rapport d'urgence</h4>
                            <p>Format pour situations d'urgence</p>
                        </div>
                        <div class="example-card" data-example="medical">
                            <h4>ğŸ¥ Rapport mÃ©dical</h4>
                            <p>Structure pour donnÃ©es mÃ©dicales</p>
                        </div>
                        <div class="example-card" data-example="technical">
                            <h4>âš™ï¸ Documentation technique</h4>
                            <p>Manuel technique et spÃ©cifications</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error Modal -->
        <div id="errorModal" class="modal">
            <div class="modal-content error-modal">
                <div class="modal-header">
                    <h3>âŒ Erreur de parsing</h3>
                    <button class="close-btn" id="closeError">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="errorContent"></div>
                    <div class="error-actions">
                        <button id="errorHelpBtn" class="btn-primary">ğŸ“– Aide</button>
                        <button id="errorRetryBtn" class="btn-secondary">ğŸ”„ RÃ©essayer</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Modal -->
        <div id="helpModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸ“– Aide MML</h3>
                    <button class="close-btn" id="closeHelp">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="help-content">
                        <h4>Syntaxe de base</h4>
                        <pre><code>T:Titre du document
H:Titre de section
P:Contenu du paragraphe
M:clÃ©|valeur
L:texte|url</code></pre>

                        <h4>Balises disponibles</h4>
                        <ul>
                            <li><code>T:</code> Titre du document</li>
                            <li><code>H:</code> Section/en-tÃªte</li>
                            <li><code>P:</code> Paragraphe</li>
                            <li><code>M:</code> MÃ©tadonnÃ©es (clÃ©|valeur)</li>
                            <li><code>L:</code> Lien (texte|URL)</li>
                            <li><code>IMG:</code> Image (desc|URL)</li>
                            <li><code>C:</code> Bloc de code</li>
                            <li><code>Q:</code> Citation</li>
                        </ul>

                        <h4>Exemples courants</h4>
                        <ul>
                            <li>Rapports d'urgence</li>
                            <li>Documentation technique</li>
                            <li>DonnÃ©es mÃ©dicales</li>
                            <li>Communication radio</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>
                MML Validator v1.0 - Outil officiel pour le langage Minimal Markup Language<br>
                <a href="https://github.com/mml-lang/mml" target="_blank">ğŸ“– Documentation</a> |
                <a href="https://github.com/mml-lang/mml/issues" target="_blank">ğŸ› Signaler un bug</a> |
                <a href="https://mml-lang.org" target="_blank">ğŸŒ Site officiel</a>
            </p>
        </div>
    </footer>

    <!-- Load MML Parser -->
    <script src="../implementations/mml-parser.js"></script>
    <script src="validator.js"></script>
</body>
</html>
